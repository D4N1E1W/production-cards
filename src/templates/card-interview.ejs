<div class="card">
  <div class="header">
    <div class="title">
      <span style="font-size: 9pt; color: var(--info); font-weight: 800; margin-right: 2mm;">#<%= beat.beatId %></span>
      <span style="color: var(--info);">&#127908;</span> <%= beat.logline %>
    </div>
    <div class="meta">
      <span class="status <%= beat.status.toLowerCase() %>">&#127916; <%= beat.status %></span>
      <span style="background: var(--surface); padding: 1mm 2mm; border-radius: var(--radius-sm); font-weight: 600;">&#9201; <%= beat.estMinutes || 0 %>m</span>
      <span style="background: var(--surface); padding: 1mm 2mm; border-radius: var(--radius-sm); font-weight: 600;">&#128249; <span class="ok"><%= beat.shotProgress.done %></span>/<%= beat.shotProgress.total %></span>
    </div>
  </div>

  <div class="pills">
    <% if (beat.location) { %><span class="pill" style="border-color: var(--info); color: var(--info);">&#128205; <%= beat.location %></span><% } %>
    <% if (beat.shootDay) { %><span class="pill">&#128197; Day <%= beat.shootDay %></span><% } %>
    <% if (beat.subject) { %><span class="pill" style="border-color: var(--accent); color: var(--accent);">&#128100; <%= beat.subject %></span><% } %>
    <% if (beat.style) { %><span class="pill">&#127912; <%= beat.style %></span><% } %>
  </div>

  <div class="grid">
    <div>
      <div class="section-title">&#127919; Interview Focus</div>
      <div style="background: rgba(14, 165, 233, 0.1); padding: 2mm; border-radius: var(--radius-md); border-left: 3px solid var(--info);">
        <div class="small" style="font-weight: 500; color: var(--gray-700);"><%= beat.intent || 'Define interview objectives and key talking points' %></div>
      </div>
      <hr/>
      <div class="section-title">&#10067; Key Questions</div>
      <div class="list">
        <% (beat.checklist || []).forEach(function(item, index){ %>
          <div class="small" style="display: flex; gap: 2mm; margin-bottom: 1.5mm; padding: 1.5mm; background: var(--surface); border-radius: var(--radius-sm); border-left: 3px solid var(--info);">
            <span style="color: var(--info); font-weight: bold; min-width: 4mm;"><%= index + 1 %>.</span>
            <span style="font-weight: 500; line-height: 1.3;"><%= item.label %></span>
          </div>
        <% }) %>
        <% if (!(beat.checklist && beat.checklist.length)) { %>
          <div class="small" style="color: var(--info); font-style: italic; text-align: center; padding: 2mm; background: rgba(14, 165, 233, 0.1); border-radius: var(--radius-sm);">&#128221; Add interview questions as checklist items</div>
        <% } %>
      </div>
    </div>
    <div>
      <div class="section-title">&#127916; Interview Setup</div>
      <div class="kv">
        <div>&#128249; Camera</div><div><%= (beat.camera && beat.camera.coverage) || 'Single/dual cam' %></div>
        <div>&#128269; Lenses</div><div><%= (beat.camera && beat.camera.lenses && beat.camera.lenses.join(', ')) || '50-85mm portrait' %></div>
        <div>&#127912; Framing</div><div><%= (beat.camera && beat.camera.move) || 'Medium/close-up' %></div>
        <div>&#127908; Audio</div><div><%= (beat.sound && beat.sound.mics && beat.sound.mics.join(', ')) || 'Lav + boom backup' %></div>
        <% if (beat.lighting) { %><div>&#128161; Lighting</div><div><%= beat.lighting %></div><% } %>
      </div>
      <hr/>
      <div class="section-title">&#127912; B-Roll & Cutaways</div>
      <div class="list">
        <% (beat.shots || []).forEach(function(s){ %>
          <div class="small" style="background: var(--surface); padding: 1.5mm; border-radius: var(--radius-sm); margin-bottom: 1mm; border-left: 3px solid <%= s.status === 'done' ? 'var(--success)' : s.status === 'in-progress' ? 'var(--warning)' : 'var(--info)' %>;">
            <strong style="color: var(--info);"><%= s.id %></strong> — <%= s.type || 'Cutaway' %> • <%= s.lens ? s.lens + 'mm' : 'Various' %> • <%= s.move || 'Static' %><br>
            <span style="font-size: 7.5pt; color: var(--muted);">Status: <%= s.status %> • Est: <%= s.est || 0 %>m</span>
          </div>
        <% }) %>
        <% if (!beat.shots || !beat.shots.length) { %>
          <div class="small" style="color: var(--info); font-style: italic; text-align: center; padding: 2mm; background: rgba(14, 165, 233, 0.1); border-radius: var(--radius-sm);">&#127916; B-roll shots to be planned</div>
        <% } %>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="links">
      <% if (beat.links && beat.links.drive) { %><a class="link" href="<%= beat.links.drive %>">Drive</a><% } %>
      <% if (beat.links && beat.links.floorplan) { %><a class="link" href="<%= beat.links.floorplan %>">Floorplan</a><% } %>
    </div>
    <% if (beat.qrDataUrl) { %>
      <img class="qr" src="<%= beat.qrDataUrl %>" alt="QR"/>
    <% } %>
  </div>
</div>